var finalText="";
$(
    function(){
        $('[data-action="Encode"]').click(
            function(){
                $("#error").empty();
                try{
                    finalText=Base64.encode($("#Source").val())
                }catch(n){
                    $("#error").html("<b>Error encodig<\/b>")
                }
                $("#Source").val(finalText)
            }
        ),
        $('[data-action="Decode"]').click(
            function(){
                $("#error").empty();
                try{
                    finalText=Base64.decode($("#Source").val())
                }catch(n){
                    $("#error").html("<b>Error decoding<\/b>")
                }
            $("#Source").val(finalText)
        })
    }
);